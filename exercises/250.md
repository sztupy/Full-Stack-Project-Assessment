# Level 250 - Week 2/A - Database deployment

By the end of this level you will have your database running under Render as well

## Render

If you have been following the level 150 guide you should already have a database created for you on Render. We need to be able to connect to it and then upload the database schema.

For security reasons by default Render databases can only be connected to from other Render instances, but not from the outside world. We need to temporarily change this so we can upload our initial database schema.

To do that first go to your Render `Dashboard` and select your video recommendations database. Once it is open scroll down to the `Access Control` section. Click `Add Source` and then the small `Use my IP address` button inside the `Source` block. You can now click Save.

## Uploading database

To install your database you can either copy the `External Database URL` to use it in your preferred SQL application, or you can use the command line to do that.

First, copy the `PSQL command` section on the dashboard. Once you have that paste it in your terminal. You should get something like this

```
PGPASSWORD=xxx psql -h xxx.render.com -U cyf_ists_user cyf_ists
```

You want to use this command to load up your database, so make sure to pipe in your initdb script:

```
PGPASSWORD=xxx psql -h xxx.render.com -U cyf_ists_user cyf_ists < db/initdb.sql
```

Make sure this runs successfully, and you might want to verify that the tables and example values are all there.

## Revoking access

Databases should not be accessible over the internet if possible, so it's advised that you go to the Render dashboard again and revoke access for your IP in the `Access Control` section.
