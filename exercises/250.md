# Level 250 - Week 2/A - Database deployment

By the end of this level you will have your database running as well

## Fly.io

If you have been following the level 150 guide you should already have a database created for you on Fly.io. We need to be able to connect to it and then upload the database schema.

Your database can hold data for multiple applications, so first you need to get a list of them:

```
flyctl postgres db list -a YOURNAME-videorec-db
```

(Make sure you use your database's name after the `-a` that you have set up in level 150)

On the list you will find under the NAME column three values: `postgres`, `repmgr` and finally the name of your application's datastore. It will be something like `YOURNAME_videorec` - same as your application name but all of the dashes are replaced with underscores.

Take a note of this name as you will need it later.

## Uploading database

To upload your initial schema you will need to use `flyctl` to connect to your database:

```
flyctl postgres connect -a YOURNAME-videorec-db -d YOURNAME_videorec
```

Where the first value is the name of the database you set up in level 150, and the second value if the datastore name you obtained in the last section.

The command above will start you up with a proper `psql` console where you can run commands.

You can also pipe in the `initdb.sql` you created earlier:

```
flyctl postgres connect -a YOURNAME-videorec-db -d YOURNAME_videorec < db/initdb.sql
```

This will initialize your database with the initial data you prepared. You can also use this command to reset your database if needed.
